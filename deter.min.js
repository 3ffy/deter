/* deter - version: 2.1 - author: 3ffy (AurÃ©lien Gy) - aureliengy@gmail.com - http://www.aureliengy.com - licence: BSD 3-Clause Licence (@see licence file or https://raw.githubusercontent.com/3ffy/deter/master/LICENSE). Note that the plugins "JQuery.Identicon5" by Francis Shanahan (http://archive.plugins.jquery.com/project/identicon5) and "JQuery.MD5" by Gabriele Romanato (http://blog.gabrieleromanato.com) are separated project and get their own licence. */
!function(e){var t=function(t,a){var n={}
n.md5=e.md5(t),n.hexRaw=n.md5.substr(0,6),n.hex="#"+n.hexRaw,n.rgbRaw=e.hexToRgb(n.hexRaw,!0),n.rgb="rgb("+n.rgbRaw.r+", "+n.rgbRaw.g+", "+n.rgbRaw.b+")"
var r="number"==typeof a?a:1
return n.rgbaRaw=n.rgbRaw,n.rgbaRaw.a=r,n.rgba="rgba("+n.rgbaRaw.r+", "+n.rgbaRaw.g+", "+n.rgbaRaw.b+", "+n.rgbaRaw.a+")",n}
e.extend({hexToRgb:function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i
e=e.replace(t,function(e,t,a,n){return t+t+a+a+n+n})
var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)
return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null},strToColor:function(e,a,n){var r
if(n!==!0)r=t(e,a)
else{r=[]
var s,i,c=e.length
for(s=0;c>s;s++)i=e.substr(0,s+1),r.push(t(i,a))}return r}}),e.fn.deter=function(t,a,n){var r=jQuery.extend({sequence:!1,opacity:1,events:"keyup",selectorDelegated:null,selectorDescendant:null},a)
return this.each(function(){var a=null===r.selectorDelegated?this:r.selectorDelegated
e(a).on(r.events,r.selectorDescendant,function(){var a="function"==typeof n?n.call(this):e(this).val(),s=e.strToColor(a,r.opacity,r.sequence)
t.call(this,s,a)})}),this},e.fn.identicon=function(t,a,n){var r=document.createElement("canvas"),s=r.getContext?!0:!1
return s?this.each(function(){var a=e(this)
"string"==typeof t?a.text(t).identicon5(n):a.text("")}):(settings=e.extend({size:65},n),this.each(function(){var n=e(this)
if("string"==typeof t){var r=n.html('<span class="deter-canevas"></span>')
r.css("width",settings.size).css("height",settings.size).css("background-color",a)}else n.html("")})),this}}(jQuery)